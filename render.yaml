# Render.com Blueprint
# Deploy: Connect GitHub repo to Render and it will auto-detect this file

services:
  - type: worker
    name: telegram-autoforward-bot
    runtime: python
    plan: starter  # Change to 'free' for testing (has sleep)
    
    # Build command - install dependencies
    buildCommand: pip install -r requirements.txt
    
    # Start command - run the bot
    startCommand: python multiuser_autoforward_bot.py
    
    # Environment variables (set in Render dashboard)
    envVars:
      - key: TELEGRAM_BOT_TOKEN
        sync: false
      - key: TELEGRAM_API_ID
        sync: false
      - key: TELEGRAM_API_HASH
        sync: false
      - key: SESSION_DIR
        value: /app/sessions
      - key: DATABASE_FILE
        value: /app/data/autoforward.db
    
    # Persistent disk for database and sessions
    disk:
      name: bot-data
      mountPath: /app/data
      sizeGB: 1

# ============================================
# SETUP INSTRUCTIONS
# ============================================
# 1. Push these files to your GitHub repo:
#    - multiuser_autoforward_bot.py (THE BOT CODE!)
#    - requirements.txt
#    - render.yaml (this file)
#
# 2. Go to https://render.com
# 3. New â†’ Background Worker
# 4. Connect your GitHub repo
# 5. Set environment variables in dashboard:
#    - TELEGRAM_BOT_TOKEN = your_bot_token
#    - TELEGRAM_API_ID = your_api_id  
#    - TELEGRAM_API_HASH = your_api_hash
# 6. Deploy!
